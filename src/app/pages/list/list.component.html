<div
  class="bg-gradient-to-r from-purple-400 to-blue-400 min-h-screen flex items-center justify-center py-10"
>
  <div
    class="bg-white p-8 shadow-md overflow-x-auto min-h-screen sm:max-w-full md:w-4/5 lg:w-4/5 xl:w-5/6"
  >
    <input
      class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
      placeholder="Search employee"
      type="text"
      (change)="adjustTableData()"
      [(ngModel)]="searchQuery"
    />
    <div class="flex items-center mt-4 justify-between">
      <div>
        <label class="mr-2">Status</label>
        <select (change)="adjustTableData()" [(ngModel)]="statusSelect">
          <option value="" disabled selected>Select an option</option>
          <option value="any">Any</option>
          <option value="permanent">Permanent</option>
          <option value="contract">Contract</option>
          <option value="outsource">Outsource</option>
        </select>
        <label class="mr-2 mx-4">Group</label>
        <select (change)="adjustTableData()" [(ngModel)]="groupSelect">
          <option value="" disabled selected>Select an option</option>
          <option value="any">Any</option>
          <option value="business">Business</option>
          <option value="human resource">Human Resource</option>
          <option value="information technology">Information Technology</option>
          <option value="operations">Operations</option>
          <option value="sales">Sales</option>
          <option value="security">Security</option>
          <option value="legal">Legal</option>
          <option value="risk">Risk</option>
          <option value="finance">Finance</option>
          <option value="support">Support</option>
        </select>
      </div>
      <div>
        <button
          (click)="handleGoToNewEmployee()"
          class="rounded-md text-sm font-medium px-4 py-2 bg-black text-white items-center justify-center transition duration-300 ease-in-out hover:bg-blue-400"
        >
          Add New Employee
        </button>
      </div>
    </div>
    <div class="flex items-center justify-between mt-4">
      <div>
        <button
          (click)="handlePrevPage()"
          class="rounded-md text-sm font-medium px-4 py-2 bg-black text-white items-center justify-center transition duration-300 ease-in-out hover:bg-blue-400"
        >
          Prev
        </button>

        <span class="mx-2"> Page {{ currentPage }} of {{ totalPages }} </span>

        <button
          (click)="handleNextPage()"
          class="rounded-md text-sm font-medium px-4 py-2 bg-black text-white items-center justify-center transition duration-300 ease-in-out hover:bg-blue-400"
        >
          Next
        </button>
      </div>

      <div>
        <label class="mr-2">Items per page:</label>
        <select [(ngModel)]="itemPerPage" (change)="handleChangeItemsPerPage()">
          <option value="5">5</option>
          <option value="10">10</option>
          <option value="20">20</option>
          <option value="25">25</option>
        </select>
      </div>
    </div>
    <table class="w-full table-auto">
      <thead>
        <tr>
          <th class="px-4 py-2">No.</th>
          <th class="px-4 py-2">Username</th>
          <th class="px-4 py-2">E-mail</th>
          <th class="px-4 py-2">Birthdate</th>
          <th class="px-4 py-2">Status</th>
          <th class="px-4 py-2">Group</th>
          <th class="px-4 py-2">Action</th>
        </tr>
      </thead>
      <tbody>
        @for (employee of currentPageData; track employee.username; let index =
        $index){
        <tr>
          <td class="border px-4 py-2">
            {{ index + 1 + (currentPage - 1) * itemPerPage }}
          </td>
          <td class="border px-4 py-2">{{ employee.username }}</td>
          <td class="border px-4 py-2">{{ employee.email }}</td>
          <td class="border px-4 py-2">{{ employee.birthDate | date }}</td>
          <td class="border px-4 py-2">{{ employee.status }}</td>
          <td class="border px-4 py-2">{{ employee.group }}</td>
          <td class="border px-4 py-2">
            <app-table-actions
              (clickEventL)="handleGoToDetails(employee)"
              (clickEventC)="handleEdit()"
              (clickEventR)="handleDelete()"
            ></app-table-actions>
          </td>
        </tr>
        } @empty {
        <tr>
          <td class="border px-4 py-2">1</td>
          <td class="border px-4 py-2">No Data</td>
          <td class="border px-4 py-2">No Data</td>
          <td class="border px-4 py-2">No Data</td>
          <td class="border px-4 py-2">No Data</td>
          <td class="border px-4 py-2">No Data</td>
          <td class="border px-4 py-2">No Data</td>
          <td class="border px-4 py-2">No Data</td>
          <td class="border px-4 py-2">No Data</td>
        </tr>
        }
      </tbody>
    </table>
    <div class="flex items-center justify-between mt-4">
      <div>
        <button
          (click)="handlePrevPage()"
          class="rounded-md text-sm font-medium px-4 py-2 bg-black text-white items-center justify-center transition duration-300 ease-in-out hover:bg-blue-400"
        >
          Prev
        </button>

        <span class="mx-2"> Page {{ currentPage }} of {{ totalPages }} </span>

        <button
          (click)="handleNextPage()"
          class="rounded-md text-sm font-medium px-4 py-2 bg-black text-white items-center justify-center transition duration-300 ease-in-out hover:bg-blue-400"
        >
          Next
        </button>
      </div>

      <div>
        <label class="mr-2">Items per page:</label>
        <select [(ngModel)]="itemPerPage" (change)="handleChangeItemsPerPage()">
          <option value="5">5</option>
          <option value="10">10</option>
          <option value="20">20</option>
          <option value="25">25</option>
        </select>
      </div>
    </div>
  </div>
  <div
    class="h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-50"
    *ngIf="isModalVisible"
  >
    <div
      class="rounded shadow-lg w-1/3"
      [class.bg-red-400]="!isAction"
      [class.bg-yellow-400]="isAction"
    >
      <div class="px-4 py2">
        <h3 class="">{{ modalMsg.title }}</h3>
        <div class="p-3">
          {{ modalMsg.message }}
        </div>
        <div class="flex justify-end items-center w-100 p-3">
          <button
            (click)="toggleModalOff()"
            class="rounded-md text-sm font-medium px-4 py-2 bg-black text-white items-center justify-center transition duration-300 ease-in-out hover:bg-blue-400"
          >
            OK
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
